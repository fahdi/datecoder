<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DateCoder - PHP, Python & JavaScript Date Format Builder | Free Online Tool</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Free online tool to build PHP, Python, and JavaScript date format strings. Convert between PHP date(), Python strftime(), and JavaScript Intl.DateTimeFormat with real-time preview. Support for 50+ country formats.">
    <meta name="keywords" content="PHP date format, Python strftime, JavaScript date formatting, PHP date function, Python datetime, JavaScript Intl.DateTimeFormat, date format builder, online tool, free tool">
    <meta name="author" content="Fahad Murtaza">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="DateCoder - PHP, Python & JavaScript Date Format Builder">
    <meta property="og:description" content="Free online tool to build PHP, Python, and JavaScript date format strings with real-time preview and 50+ country formats.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://fahdmurtaza.com/datecoder/">
    <meta property="og:image" content="https://fahdmurtaza.com/datecoder/img/social.png">
    <meta property="og:site_name" content="DateCoder">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="DateCoder - PHP, Python & JavaScript Date Format Builder">
    <meta name="twitter:description" content="Free online tool to build PHP, Python, and JavaScript date format strings with real-time preview and 50+ country formats.">
    <meta name="twitter:image" content="https://fahdmurtaza.com/datecoder/img/social.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://fahdmurtaza.com/datecoder/">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="img/icon.svg">
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 15px;
            align-items: center;
        }
        .form-group {
            flex: 1;
            min-width: 120px;
        }
        label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
        }
        select {
            padding: 8px;
            width: 100%;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background-color: #f0f8ff;
            border-radius: 4px;
            border-left: 4px solid #4a90e2;
        }
        .code {
            font-family: monospace;
            background-color: #eee;
            padding: 3px 5px;
            border-radius: 3px;
        }
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        .btn-primary {
            background-color: #4a90e2;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
        }
        .btn-primary:hover {
            background-color: #3a7bc8;
        }
        .btn-danger {
            background-color: #e74c3c;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
        }
        .btn-danger:hover {
            background-color: #c0392b;
        }
        .btn-default {
            background-color: #95a5a6;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
        }
        .btn-default:hover {
            background-color: #7f8c8d;
        }
        .output {
            margin-top: 20px;
        }
        .explanation {
            margin-top: 20px;
            font-size: 0.9em;
            color: #555;
        }
        .format-builder {
            display: flex;
            margin-top: 15px;
            gap: 10px;
            flex-wrap: wrap;
        }
        .format-item {
            background-color: #e3f2fd;
            border: 1px solid #bbdefb;
            border-radius: 4px;
            padding: 8px 12px;
            cursor: move;
            display: flex;
            align-items: center;
            position: relative;
            margin-bottom: 5px;
        }
        .format-item:hover {
            background-color: #bbdefb;
        }
        .format-item .remove {
            margin-left: 5px;
            color: #e74c3c;
            cursor: pointer;
            font-weight: bold;
            font-size: 18px;
        }
        .confirm-clear {
            display: none;
        }
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
        }
        .tab {
            padding: 12px 24px;
            cursor: pointer;
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            border-bottom: none;
            border-radius: 6px 6px 0 0;
            margin-right: 5px;
            transition: all 0.2s ease;
            position: relative;
        }
        .tab:hover {
            background-color: #e3f2fd;
            border-color: #2196f3;
        }
        .tab.active {
            background-color: #4a90e2;
            color: white;
            border-color: #4a90e2;
            transform: translateY(-2px);
        }
        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 2px;
            background-color: #4a90e2;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .country-format {
            cursor: pointer;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            margin-bottom: 8px;
            background-color: #f9f9f9;
            transition: all 0.2s ease;
            border-left: 4px solid #4a90e2;
        }
        .country-format:hover {
            background-color: #e3f2fd;
            border-color: #2196f3;
            transform: translateX(2px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .search-box {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .country-formats {
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 15px;
            padding: 10px;
            background-color: #fafafa;
            border-radius: 6px;
            border: 1px solid #e0e0e0;
        }
        
        /* Scrollbar styling */
        .country-formats::-webkit-scrollbar {
            width: 8px;
        }
        .country-formats::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        .country-formats::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 4px;
        }
        .country-formats::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
        
        .language-switcher {
            display: flex;
            align-items: center;
            background-color: #f8f9fa;
            padding: 10px 15px;
            border-radius: 6px;
            border: 1px solid #e9ecef;
        }
        
        .language-switcher select {
            cursor: pointer;
            transition: border-color 0.2s ease;
        }
        
        .language-switcher select:focus {
            outline: none;
            border-color: #4a90e2;
            box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.2);
        }
        
        /* Notification animations */
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }
        
        /* Enhanced button styles */
        .btn-primary:active,
        .btn-danger:active,
        .btn-default:active {
            transform: translateY(1px);
        }
        
        /* Enhanced format item styles */
        .format-item {
            background-color: #e3f2fd;
            border: 1px solid #bbdefb;
            border-radius: 4px;
            padding: 8px 12px;
            cursor: move;
            display: flex;
            align-items: center;
            position: relative;
            margin-bottom: 5px;
            transition: all 0.2s ease;
            user-select: none;
        }
        
        .format-item:hover {
            background-color: #bbdefb;
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .format-item:active {
            transform: translateY(0);
        }
        
        .format-item.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
        }
        
        /* Enhanced country format styles */
        .country-format {
            cursor: pointer;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            margin-bottom: 8px;
            background-color: #f9f9f9;
            transition: all 0.2s ease;
            border-left: 4px solid #4a90e2;
            position: relative;
            overflow: hidden;
        }
        
        .country-format::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .country-format:hover::before {
            left: 100%;
        }
        
        .country-format:hover {
            background-color: #e3f2fd;
            border-color: #2196f3;
            transform: translateX(2px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        /* Enhanced search box */
        .search-box {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            transition: all 0.2s ease;
        }
        
        .search-box:focus {
            outline: none;
            border-color: #4a90e2;
            box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.2);
        }
        
        /* Enhanced result display */
        .result {
            margin-top: 20px;
            padding: 15px;
            background-color: #f0f8ff;
            border-radius: 4px;
            border-left: 4px solid #4a90e2;
            position: relative;
        }
        
        .result::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 0 20px 20px 0;
            border-color: transparent #4a90e2 transparent transparent;
        }
        
        /* Enhanced code display */
        .code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            background-color: #2d3748;
            color: #e2e8f0;
            padding: 8px 12px;
            border-radius: 4px;
            border: 1px solid #4a5568;
            position: relative;
            overflow-x: auto;
        }
        
        .code::before {
            content: '📋';
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 12px;
            opacity: 0.6;
        }
        
        /* Responsive improvements */
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
            }
            
            .form-group {
                min-width: auto;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                margin-right: 0;
                margin-bottom: 2px;
                border-radius: 4px;
            }
            
            .tab.active {
                transform: none;
            }
        }
        
        /* Loading states */
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }
        
        .loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            margin: -10px 0 0 -10px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #4a90e2;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="notification-container"></div>
    <div class="container">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h1 id="mainTitle">PHP Date Format Builder</h1>
            <div class="language-switcher">
                <label for="languageSelect" style="margin-right: 10px; font-weight: bold; color: #555;">Language:</label>
                <select id="languageSelect" onchange="switchLanguage()" style="padding: 8px; border: 1px solid #ddd; border-radius: 4px; background-color: white;">
                    <option value="php">PHP</option>
                    <option value="python">Python</option>
                    <option value="javascript">JavaScript</option>
                </select>
            </div>
        </div>
        
        <div class="tabs">
            <div class="tab active" id="custom-tab-btn">Custom Format</div>
            <div class="tab" id="countries-tab-btn">Country Formats</div>
        </div>
        
        <div class="tab-content active" id="custom-tab">
            <p id="customTabDescription">Select options from the dropdowns to build your date format string.</p>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="dayFormat">Day Format:</label>
                    <select id="dayFormat" onchange="updateFormat()">
                        <option value="">-- Day Format --</option>
                        <option value="d">d - With zeros (01-31)</option>
                        <option value="j">j - No zeros (1-31)</option>
                        <option value="D">D - Short name (Mon-Sun)</option>
                        <option value="l">l - Full name (Monday-Sunday)</option>
                        <option value="S">S - Ordinal suffix (st,nd,rd,th)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="monthFormat">Month Format:</label>
                    <select id="monthFormat" onchange="updateFormat()">
                        <option value="">-- Month Format --</option>
                        <option value="m">m - With zeros (01-12)</option>
                        <option value="n">n - No zeros (1-12)</option>
                        <option value="M">M - Short name (Jan-Dec)</option>
                        <option value="F">F - Full name (January-December)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="yearFormat">Year Format:</label>
                    <select id="yearFormat" onchange="updateFormat()">
                        <option value="">-- Year Format --</option>
                        <option value="Y">Y - 4 digits (2025)</option>
                        <option value="y">y - 2 digits (25)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="timeFormat">Time Format:</label>
                    <select id="timeFormat" onchange="updateFormat()">
                        <option value="">-- Time Format --</option>
                        <option value="g:i a">g:i a - 12hr (1:30 pm)</option>
                        <option value="h:i a">h:i a - 12hr (01:30 pm)</option>
                        <option value="G:i">G:i - 24hr (13:30)</option>
                        <option value="H:i:s">H:i:s - 24hr with seconds (13:30:45)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="separator">Separator:</label>
                    <select id="separator" onchange="updateFormat()">
                        <option value="-">Hyphen (-)</option>
                        <option value="/">Slash (/)</option>
                        <option value=".">Dot (.)</option>
                        <option value=" ">Space ( )</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="countries-tab">
            <p>Select a common date format used by a specific country:</p>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                <input type="text" class="search-box" id="countrySearch" placeholder="Search by country name... (Type to filter)" onkeyup="filterCountries()" style="flex: 1; margin-right: 10px;">
                <span id="formatCount" style="color: #666; font-size: 0.9em; white-space: nowrap;"></span>
            </div>
            
            <div class="country-formats" id="countryFormats">
                <!-- Country formats will be added here by JavaScript -->
            </div>
        </div>
        
        <div class="format-builder" id="formatBuilder">
            <!-- Format items will be inserted here -->
        </div>
        
        <div class="button-group">
            <button id="clearBtn" class="btn-danger">Clear Format</button>
            <div id="confirmClear" class="confirm-clear">
                <span>Are you sure?</span>
                <button id="confirmClearBtn" class="btn-danger">Confirm</button>
                <button id="cancelClearBtn" class="btn-default">Cancel</button>
            </div>
        </div>
        
        <div class="result">
            <h3 id="formatResultTitle">Your PHP Date Format:</h3>
            <div id="formatString" class="code"></div>
        </div>
        
        <div class="output">
            <h3>Output Preview:</h3>
            <div id="outputPreview" class="code"></div>
        </div>
        
        <div class="explanation">
            <h3>How to use in PHP:</h3>
            <p>Copy the format string above and use it in your PHP code like this:</p>
            <div class="code">
                $formattedDate = date("<span id="phpExample"></span>", time());<br>
                echo $formattedDate;
            </div>
        </div>
    </div>

    <script>
        // Main variables
        let formatParts = [];
        let currentLanguage = 'php';
        
        // Country formats data with PHP, Python, and JavaScript equivalents
        const countryFormats = [
            { country: "International Standard (ISO 8601)", php: "Y-m-d", python: "%Y-%m-%d", javascript: "YYYY-MM-DD", description: "YYYY-MM-DD (2025-03-01)" },
            { country: "United States", php: "m/d/Y", python: "%m/%d/%Y", javascript: "MM/DD/YYYY", description: "MM/DD/YYYY (03/01/2025)" },
            { country: "United Kingdom", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "Germany", php: "d.m.Y", python: "%d.%m.%Y", javascript: "DD.MM.YYYY", description: "DD.MM.YYYY (01.03.2025)" },
            { country: "France", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "Japan", php: "Y年m月d日", python: "%Y年%m月%d日", javascript: "YYYY年MM月DD日", description: "YYYY年MM月DD日 (2025年03月01日)" },
            { country: "China", php: "Y-m-d", python: "%Y-%m-%d", javascript: "YYYY-MM-DD", description: "YYYY-MM-DD (2025-03-01)" },
            { country: "Brazil", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "India", php: "d-m-Y", python: "%d-%m-%Y", javascript: "DD-MM-YYYY", description: "DD-MM-YYYY (01-03-2025)" },
            { country: "Russia", php: "d.m.Y", python: "%d.%m.%Y", javascript: "DD.MM.YYYY", description: "DD.MM.YYYY (01.03.2025)" },
            { country: "Canada", php: "Y-m-d", python: "%Y-%m-%d", javascript: "YYYY-MM-DD", description: "YYYY-MM-DD (2025-03-01)" },
            { country: "Australia", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "South Korea", php: "Y-m-d", python: "%Y-%m-%d", javascript: "YYYY-MM-DD", description: "YYYY-MM-DD (2025-03-01)" },
            { country: "Italy", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "Spain", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "Mexico", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "Sweden", php: "Y-m-d", python: "%Y-%m-%d", javascript: "YYYY-MM-DD", description: "YYYY-MM-DD (2025-03-01)" },
            { country: "Netherlands", php: "d-m-Y", python: "%d-%m-%Y", javascript: "DD-MM-YYYY", description: "DD-MM-YYYY (01-03-2025)" },
            { country: "Switzerland", php: "d.m.Y", python: "%d.%m.%Y", javascript: "DD.MM.YYYY", description: "DD.MM.YYYY (01.03.2025)" },
            { country: "Poland", php: "d.m.Y", python: "%d.%m.%Y", javascript: "DD.MM.YYYY", description: "DD.MM.YYYY (01.03.2025)" },
            { country: "Belgium", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "Long Date Format (US)", php: "F j, Y", python: "%B %d, %Y", javascript: "MMMM D, YYYY", description: "Month DD, YYYY (March 1, 2025)" },
            { country: "Long Date Format (UK/Europe)", php: "j F Y", python: "%d %B %Y", javascript: "D MMMM YYYY", description: "DD Month YYYY (1 March 2025)" },
            { country: "Czech Republic", php: "j. n. Y", python: "%d. %m. %Y", javascript: "D. M. YYYY", description: "D. M. YYYY (1. 3. 2025)" },
            { country: "Denmark", php: "d-m-Y", python: "%d-%m-%Y", javascript: "DD-MM-YYYY", description: "DD-MM-YYYY (01-03-2025)" },
            { country: "Finland", php: "j.n.Y", python: "%d.%m.%Y", javascript: "D.M.YYYY", description: "D.M.YYYY (1.3.2025)" },
            { country: "Hungary", php: "Y. m. d.", python: "%Y. %m. %d.", javascript: "YYYY. MM. DD.", description: "YYYY. MM. DD. (2025. 03. 01.)" },
            { country: "Norway", php: "d.m.Y", python: "%d.%m.%Y", javascript: "DD.MM.YYYY", description: "DD.MM.YYYY (01.03.2025)" },
            { country: "Portugal", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "Turkey", php: "d.m.Y", python: "%d.%m.%Y", javascript: "DD.MM.YYYY", description: "DD.MM.YYYY (01.03.2025)" },
            { country: "Argentina", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "Chile", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "Colombia", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "Indonesia", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "Malaysia", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "Philippines", php: "m/d/Y", python: "%m/%d/%Y", javascript: "MM/DD/YYYY", description: "MM/DD/YYYY (03/01/2025)" },
            { country: "Singapore", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "Thailand", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "Vietnam", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "Israel", php: "d.m.Y", python: "%d.%m.%Y", javascript: "DD.MM.YYYY", description: "DD.MM.YYYY (01.03.2025)" },
            { country: "South Africa", php: "Y/m/d", python: "%Y/%m/%d", javascript: "YYYY/MM/DD", description: "YYYY/MM/DD (2025/03/01)" },
            { country: "Ukraine", php: "d.m.Y", python: "%d.%m.%Y", javascript: "DD.MM.YYYY", description: "DD.MM.YYYY (01.03.2025)" },
            { country: "Greek Format", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "Arabic Format", php: "d/m/Y", python: "%d/%m/%Y", javascript: "DD/MM/YYYY", description: "DD/MM/YYYY (01/03/2025)" },
            { country: "Persian Format", php: "Y/m/d", python: "%Y/%m/%d", javascript: "YYYY/MM/DD", description: "YYYY/MM/DD (2025/03/01)" },
            { country: "ISO 8601 with Time", php: "Y-m-d\\TH:i:sP", python: "%Y-%m-%dT%H:%M:%S%z", javascript: "YYYY-MM-DDTHH:mm:ssZ", description: "YYYY-MM-DDTHH:MM:SS+TZ (2025-03-01T13:45:30+00:00)" },
            { country: "RFC 2822", php: "D, d M Y H:i:s O", python: "%a, %d %b %Y %H:%M:%S %z", javascript: "ddd, DD MMM YYYY HH:mm:ss Z", description: "Day, DD Mon YYYY HH:MM:SS +ZZZZ (Sat, 01 Mar 2025 13:45:30 +0000)" },
            { country: "UNIX Timestamp", php: "U", python: "%s", javascript: "X", description: "Seconds since the Unix Epoch (January 1 1970 00:00:00 GMT)" }
        ];
        
        // Initialize country formats
        function initCountryFormats() {
            const formatsContainer = document.getElementById('countryFormats');
            formatsContainer.innerHTML = ''; // Clear any existing content
            
            // Update format count
            document.getElementById('formatCount').textContent = `${countryFormats.length} formats available`;
            
            countryFormats.forEach(item => {
                const div = document.createElement('div');
                div.className = 'country-format';
                let currentFormat, languageName;
                
                switch(currentLanguage) {
                    case 'php':
                        currentFormat = item.php;
                        languageName = 'PHP';
                        break;
                    case 'python':
                        currentFormat = item.python;
                        languageName = 'Python';
                        break;
                    case 'javascript':
                        currentFormat = item.javascript;
                        languageName = 'JavaScript';
                        break;
                    default:
                        currentFormat = item.php;
                        languageName = 'PHP';
                }
                
                div.innerHTML = `
                    <div style="margin-bottom: 5px;">
                        <strong style="color: #2c3e50;">${item.country}</strong>
                    </div>
                    <div style="color: #555; font-size: 0.9em; margin-bottom: 5px;">
                        ${item.description}
                    </div>
                    <div style="color: #4a90e2; font-family: monospace; font-weight: bold;">
                        ${currentFormat}
                    </div>
                    <div style="color: #666; font-size: 0.8em; margin-top: 5px;">
                        ${languageName} format
                    </div>
                `;
                div.addEventListener('click', () => {
                    applyCountryFormat(currentFormat);
                });
                formatsContainer.appendChild(div);
            });
        }
        
        // Filter countries based on search
        function filterCountries() {
            const searchText = document.getElementById('countrySearch').value.toLowerCase();
            const items = document.querySelectorAll('.country-format');
            let visibleCount = 0;
            
            items.forEach(item => {
                const country = item.textContent.toLowerCase();
                if (country.includes(searchText)) {
                    item.style.display = 'block';
                    visibleCount++;
                } else {
                    item.style.display = 'none';
                }
            });
            
            // Update format count
            document.getElementById('formatCount').textContent = searchText.length > 0 ? 
                `${visibleCount} of ${countryFormats.length} formats` : 
                `${countryFormats.length} formats available`;
            
            // Show/hide no results message
            const noResults = document.getElementById('noResults');
            if (visibleCount === 0 && searchText.length > 0) {
                if (!noResults) {
                    const noResultsDiv = document.createElement('div');
                    noResultsDiv.id = 'noResults';
                    noResultsDiv.style.textAlign = 'center';
                    noResultsDiv.style.padding = '20px';
                    noResultsDiv.style.color = '#666';
                    noResultsDiv.style.fontStyle = 'italic';
                    noResultsDiv.textContent = 'No countries found matching your search.';
                    document.getElementById('countryFormats').appendChild(noResultsDiv);
                }
            } else if (noResults) {
                noResults.remove();
            }
        }
        
        // Apply country format
        function applyCountryFormat(format) {
            // Clear existing format
            formatParts = [];
            document.getElementById('dayFormat').selectedIndex = 0;
            document.getElementById('monthFormat').selectedIndex = 0;
            document.getElementById('yearFormat').selectedIndex = 0;
            document.getElementById('timeFormat').selectedIndex = 0;
            
            // Clear format builder
            document.getElementById('formatBuilder').innerHTML = '';
            
            // Set direct format
            document.getElementById('formatString').textContent = format;
            document.getElementById('phpExample').textContent = format;
            updatePreview(format);
            
            // Switch to custom tab and show success message
            switchTab('custom-tab-btn');
            
            // Show temporary success message
            const successMsg = document.createElement('div');
            successMsg.style.cssText = 'background-color: #d4edda; color: #155724; padding: 10px; border-radius: 4px; margin: 10px 0; border: 1px solid #c3e6cb;';
            successMsg.textContent = `✓ Applied ${format} format successfully!`;
            document.getElementById('formatBuilder').parentNode.insertBefore(successMsg, document.getElementById('formatBuilder'));
            
            // Remove success message after 3 seconds
            setTimeout(() => {
                if (successMsg.parentNode) {
                    successMsg.remove();
                }
            }, 3000);
        }
        
        function updateFormat() {
            const dayFormat = document.getElementById('dayFormat').value;
            const monthFormat = document.getElementById('monthFormat').value;
            const yearFormat = document.getElementById('yearFormat').value;
            const timeFormat = document.getElementById('timeFormat').value;
            
            // Add new elements if they're not empty
            if (dayFormat && !formatParts.includes('day')) {
                addFormatItem('day', dayFormat, 'Day');
            }
            if (monthFormat && !formatParts.includes('month')) {
                addFormatItem('month', monthFormat, 'Month');
            }
            if (yearFormat && !formatParts.includes('year')) {
                addFormatItem('year', yearFormat, 'Year');
            }
            if (timeFormat && !formatParts.includes('time')) {
                addFormatItem('time', timeFormat, 'Time');
            }
            
            // Update display
            updateFormatDisplay();
        }
        
        function addFormatItem(type, value, label) {
            formatParts.push(type);
            renderFormatItems();
        }
        
        function renderFormatItems() {
            const builderEl = document.getElementById('formatBuilder');
            builderEl.innerHTML = '';
            
            formatParts.forEach((type, index) => {
                const item = document.createElement('div');
                item.className = 'format-item';
                item.draggable = true;
                item.dataset.type = type;
                
                // Add drag event listeners
                item.addEventListener('dragstart', handleDragStart);
                item.addEventListener('dragover', handleDragOver);
                item.addEventListener('drop', handleDrop);
                item.addEventListener('dragend', handleDragEnd);
                
                let value, label;
                switch (type) {
                    case 'day':
                        value = document.getElementById('dayFormat').value;
                        label = 'Day';
                        break;
                    case 'month':
                        value = document.getElementById('monthFormat').value;
                        label = 'Month';
                        break;
                    case 'year':
                        value = document.getElementById('yearFormat').value;
                        label = 'Year';
                        break;
                    case 'time':
                        value = document.getElementById('timeFormat').value;
                        label = 'Time';
                        break;
                }
                
                item.innerHTML = `${label} <span class="remove" onclick="removeItem('${type}')">×</span>`;
                builderEl.appendChild(item);
            });
            
            updateFormatDisplay();
        }
        
        function removeItem(type) {
            const index = formatParts.indexOf(type);
            if (index !== -1) {
                formatParts.splice(index, 1);
                
                // Reset the corresponding dropdown
                switch (type) {
                    case 'day':
                        document.getElementById('dayFormat').selectedIndex = 0;
                        break;
                    case 'month':
                        document.getElementById('monthFormat').selectedIndex = 0;
                        break;
                    case 'year':
                        document.getElementById('yearFormat').selectedIndex = 0;
                        break;
                    case 'time':
                        document.getElementById('timeFormat').selectedIndex = 0;
                        break;
                }
                
                renderFormatItems();
            }
        }
        
        // Drag and drop functionality
        let dragSrcEl = null;
        
        function handleDragStart(e) {
            this.style.opacity = '0.4';
            dragSrcEl = this;
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/plain', this.dataset.type);
        }
        
        function handleDragOver(e) {
            if (e.preventDefault) {
                e.preventDefault();
            }
            e.dataTransfer.dropEffect = 'move';
            return false;
        }
        
        function handleDrop(e) {
            if (e.stopPropagation) {
                e.stopPropagation();
            }
            
            if (dragSrcEl !== this) {
                const fromType = dragSrcEl.dataset.type;
                const toType = this.dataset.type;
                
                const fromIndex = formatParts.indexOf(fromType);
                const toIndex = formatParts.indexOf(toType);
                
                // Swap positions in the array
                [formatParts[fromIndex], formatParts[toIndex]] = [formatParts[toIndex], formatParts[fromIndex]];
                
                renderFormatItems();
            }
            
            return false;
        }
        
        function handleDragEnd() {
            this.style.opacity = '1';
        }
        
        function updateFormatDisplay() {
            let formatString = '';
            const separator = document.getElementById('separator').value;
            
            formatParts.forEach((type, index) => {
                let value;
                switch (type) {
                    case 'day':
                        value = document.getElementById('dayFormat').value;
                        break;
                    case 'month':
                        value = document.getElementById('monthFormat').value;
                        break;
                    case 'year':
                        value = document.getElementById('yearFormat').value;
                        break;
                    case 'time':
                        value = document.getElementById('timeFormat').value;
                        break;
                }
                
                formatString += value;
                
                // Add separator if not the last item and not before time format
                if (index < formatParts.length - 1) {
                    const nextType = formatParts[index + 1];
                    if (nextType === 'time' || type === 'time') {
                        formatString += ' ';
                    } else {
                        formatString += separator;
                    }
                }
            });
            
            document.getElementById('formatString').textContent = formatString;
            document.getElementById('phpExample').textContent = formatString;
            updatePreview(formatString);
        }
        
        function updatePreview(formatString) {
            if (formatString) {
                const now = new Date();
                let preview = formatString;
                
                if (currentLanguage === 'php') {
                    // PHP date formatting
                    preview = preview.replace(/d/g, String(now.getDate()).padStart(2, '0'));
                    preview = preview.replace(/j/g, now.getDate());
                    preview = preview.replace(/D/g, ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][now.getDay()]);
                    preview = preview.replace(/l/g, ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][now.getDay()]);
                    preview = preview.replace(/S/g, getDaySuffix(now.getDate()));
                    preview = preview.replace(/m/g, String(now.getMonth() + 1).padStart(2, '0'));
                    preview = preview.replace(/n/g, now.getMonth() + 1);
                    preview = preview.replace(/M/g, ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'][now.getMonth()]);
                    preview = preview.replace(/F/g, ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'][now.getMonth()]);
                    preview = preview.replace(/Y/g, now.getFullYear());
                    preview = preview.replace(/y/g, String(now.getFullYear()).slice(-2));
                    
                    let hours24 = now.getHours();
                    let hours12 = hours24 % 12 || 12;
                    let minutes = String(now.getMinutes()).padStart(2, '0');
                    let seconds = String(now.getSeconds()).padStart(2, '0');
                    let ampm = hours24 < 12 ? 'am' : 'pm';
                    let AMPM = hours24 < 12 ? 'AM' : 'PM';
                    
                    // Handle time formats
                    preview = preview.replace(/g/g, hours12);
                    preview = preview.replace(/h/g, String(hours12).padStart(2, '0'));
                    preview = preview.replace(/G/g, hours24);
                    preview = preview.replace(/H/g, String(hours24).padStart(2, '0'));
                    preview = preview.replace(/i/g, minutes);
                    preview = preview.replace(/s/g, seconds);
                    preview = preview.replace(/a/g, ampm);
                    preview = preview.replace(/A/g, AMPM);
                    
                    // Handle special formats with escaped characters
                    preview = preview.replace(/\\T/g, 'T');
                    preview = preview.replace(/P/g, '+00:00'); // Simplified timezone
                    preview = preview.replace(/O/g, '+0000'); // Simplified timezone
                    preview = preview.replace(/U/g, Math.floor(now.getTime() / 1000));
                    
                    // Handle 年月日 for Japanese/Chinese formats
                    preview = preview.replace(/年/g, '年');
                    preview = preview.replace(/月/g, '月');
                    preview = preview.replace(/日/g, '日');
                } else if (currentLanguage === 'python') {
                    // Python date formatting
                    const replacements = {
                        '%-d': now.getDate(), // No zero padding
                        '%d': String(now.getDate()).padStart(2, '0'), // Zero padded
                        '%j': Math.floor((now - new Date(now.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24),
                        '%A': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][now.getDay()],
                        '%a': ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][now.getDay()],
                        '%-m': now.getMonth() + 1, // No zero padding
                        '%m': String(now.getMonth() + 1).padStart(2, '0'), // Zero padded
                        '%B': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'][now.getMonth()],
                        '%b': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'][now.getMonth()],
                        '%Y': now.getFullYear(),
                        '%y': String(now.getFullYear()).slice(-2),
                        '%I': String((now.getHours() % 12) || 12).padStart(2, '0'),
                        '%H': String(now.getHours()).padStart(2, '0'),
                        '%M': String(now.getMinutes()).padStart(2, '0'),
                        '%S': String(now.getSeconds()).padStart(2, '0'),
                        '%p': now.getHours() < 12 ? 'AM' : 'PM',
                        '%z': '+0000', // Simplified timezone
                        '%s': Math.floor(now.getTime() / 1000),
                        '年': '年',
                        '月': '月',
                        '日': '日'
                    };
                    
                    // Sort replacements by length (longest first) to avoid conflicts
                    const sortedKeys = Object.keys(replacements).sort((a, b) => b.length - a.length);
                    
                    for (const key of sortedKeys) {
                        const regex = new RegExp(key.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
                        preview = preview.replace(regex, replacements[key]);
                    }
                } else if (currentLanguage === 'javascript') {
                    // JavaScript date formatting (moment.js style patterns)
                    // Use placeholders to avoid conflicts between similar patterns
                    const replacements = {
                        'YYYY': now.getFullYear(),
                        'YY': String(now.getFullYear()).slice(-2),
                        'MMMM': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'][now.getMonth()],
                        'MMM': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'][now.getMonth()],
                        'MM': String(now.getMonth() + 1).padStart(2, '0'),
                        'M': now.getMonth() + 1,
                        'dddd': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][now.getDay()],
                        'ddd': ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][now.getDay()],
                        'DD': String(now.getDate()).padStart(2, '0'),
                        'D': now.getDate(),
                        'HH': String(now.getHours()).padStart(2, '0'),
                        'H': now.getHours(),
                        'hh': String((now.getHours() % 12) || 12).padStart(2, '0'),
                        'h': (now.getHours() % 12) || 12,
                        'mm': String(now.getMinutes()).padStart(2, '0'),
                        'ss': String(now.getSeconds()).padStart(2, '0'),
                        'A': now.getHours() < 12 ? 'AM' : 'PM',
                        'a': now.getHours() < 12 ? 'am' : 'pm',
                        'Z': '+00:00', // Simplified timezone
                        'X': Math.floor(now.getTime() / 1000),
                        '年': '年',
                        '月': '月',
                        '日': '日'
                    };
                    
                    // Sort replacements by length (longest first) to avoid conflicts
                    const sortedKeys = Object.keys(replacements).sort((a, b) => b.length - a.length);
                    
                    for (const key of sortedKeys) {
                        const regex = new RegExp(key.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
                        preview = preview.replace(regex, replacements[key]);
                    }
                }
                
                document.getElementById('outputPreview').textContent = preview;
            } else {
                document.getElementById('outputPreview').textContent = 'Your preview will appear here.';
            }
        }
        
        function getDaySuffix(day) {
            if (day > 3 && day < 21) return 'th';
            switch (day % 10) {
                case 1: return 'st';
                case 2: return 'nd';
                case 3: return 'rd';
                default: return 'th';
            }
        }
        
        // Language switching
        // Language-specific dropdown options
        const languageDropdownOptions = {
            php: {
                day: [
                    { value: '', text: '-- Day Format --' },
                    { value: 'd', text: 'd - With zeros (01-31)' },
                    { value: 'j', text: 'j - No zeros (1-31)' },
                    { value: 'D', text: 'D - Short name (Mon-Sun)' },
                    { value: 'l', text: 'l - Full name (Monday-Sunday)' },
                    { value: 'S', text: 'S - Ordinal suffix (st,nd,rd,th)' }
                ],
                month: [
                    { value: '', text: '-- Month Format --' },
                    { value: 'm', text: 'm - With zeros (01-12)' },
                    { value: 'n', text: 'n - No zeros (1-12)' },
                    { value: 'M', text: 'M - Short name (Jan-Dec)' },
                    { value: 'F', text: 'F - Full name (January-December)' }
                ],
                year: [
                    { value: '', text: '-- Year Format --' },
                    { value: 'Y', text: 'Y - 4 digits (2025)' },
                    { value: 'y', text: 'y - 2 digits (25)' }
                ],
                time: [
                    { value: '', text: '-- Time Format --' },
                    { value: 'g:i a', text: 'g:i a - 12hr (1:30 pm)' },
                    { value: 'h:i a', text: 'h:i a - 12hr (01:30 pm)' },
                    { value: 'G:i', text: 'G:i - 24hr (13:30)' },
                    { value: 'H:i:s', text: 'H:i:s - 24hr with seconds (13:30:45)' }
                ]
            },
            python: {
                day: [
                    { value: '', text: '-- Day Format --' },
                    { value: '%d', text: '%d - With zeros (01-31)' },
                    { value: '%-d', text: '%-d - No zeros (1-31)' },
                    { value: '%a', text: '%a - Short name (Mon-Sun)' },
                    { value: '%A', text: '%A - Full name (Monday-Sunday)' }
                ],
                month: [
                    { value: '', text: '-- Month Format --' },
                    { value: '%m', text: '%m - With zeros (01-12)' },
                    { value: '%-m', text: '%-m - No zeros (1-12)' },
                    { value: '%b', text: '%b - Short name (Jan-Dec)' },
                    { value: '%B', text: '%B - Full name (January-December)' }
                ],
                year: [
                    { value: '', text: '-- Year Format --' },
                    { value: '%Y', text: '%Y - 4 digits (2025)' },
                    { value: '%y', text: '%y - 2 digits (25)' }
                ],
                time: [
                    { value: '', text: '-- Time Format --' },
                    { value: '%I:%M %p', text: '%I:%M %p - 12hr (01:30 PM)' },
                    { value: '%H:%M', text: '%H:%M - 24hr (13:30)' },
                    { value: '%H:%M:%S', text: '%H:%M:%S - 24hr with seconds (13:30:45)' }
                ]
            },
            javascript: {
                day: [
                    { value: '', text: '-- Day Format --' },
                    { value: 'DD', text: 'DD - With zeros (01-31)' },
                    { value: 'D', text: 'D - No zeros (1-31)' },
                    { value: 'ddd', text: 'ddd - Short name (Mon-Sun)' },
                    { value: 'dddd', text: 'dddd - Full name (Monday-Sunday)' }
                ],
                month: [
                    { value: '', text: '-- Month Format --' },
                    { value: 'MM', text: 'MM - With zeros (01-12)' },
                    { value: 'M', text: 'M - No zeros (1-12)' },
                    { value: 'MMM', text: 'MMM - Short name (Jan-Dec)' },
                    { value: 'MMMM', text: 'MMMM - Full name (January-December)' }
                ],
                year: [
                    { value: '', text: '-- Year Format --' },
                    { value: 'YYYY', text: 'YYYY - 4 digits (2025)' },
                    { value: 'YY', text: 'YY - 2 digits (25)' }
                ],
                time: [
                    { value: '', text: '-- Time Format --' },
                    { value: 'h:mm A', text: 'h:mm A - 12hr (1:30 PM)' },
                    { value: 'HH:mm', text: 'HH:mm - 24hr (13:30)' },
                    { value: 'HH:mm:ss', text: 'HH:mm:ss - 24hr with seconds (13:30:45)' }
                ]
            }
        };
        
        function updateDropdowns() {
            const options = languageDropdownOptions[currentLanguage];
            
            // Update day format dropdown
            const daySelect = document.getElementById('dayFormat');
            daySelect.innerHTML = '';
            options.day.forEach(opt => {
                const option = document.createElement('option');
                option.value = opt.value;
                option.textContent = opt.text;
                daySelect.appendChild(option);
            });
            
            // Update month format dropdown
            const monthSelect = document.getElementById('monthFormat');
            monthSelect.innerHTML = '';
            options.month.forEach(opt => {
                const option = document.createElement('option');
                option.value = opt.value;
                option.textContent = opt.text;
                monthSelect.appendChild(option);
            });
            
            // Update year format dropdown
            const yearSelect = document.getElementById('yearFormat');
            yearSelect.innerHTML = '';
            options.year.forEach(opt => {
                const option = document.createElement('option');
                option.value = opt.value;
                option.textContent = opt.text;
                yearSelect.appendChild(option);
            });
            
            // Update time format dropdown
            const timeSelect = document.getElementById('timeFormat');
            timeSelect.innerHTML = '';
            options.time.forEach(opt => {
                const option = document.createElement('option');
                option.value = opt.value;
                option.textContent = opt.text;
                timeSelect.appendChild(option);
            });
        }
        
        function switchLanguage() {
            const languageSelect = document.getElementById('languageSelect');
            const mainTitle = document.getElementById('mainTitle');
            const phpExample = document.getElementById('phpExample');
            const explanationTitle = document.querySelector('.explanation h3');
            const explanationText = document.querySelector('.explanation p');
            const codeExample = document.querySelector('.explanation .code');
            
            currentLanguage = languageSelect.value;
            
            // Update dropdown options for the selected language
            updateDropdowns();
            
            // Clear current format parts and reset dropdowns
            formatParts = [];
            document.getElementById('formatBuilder').innerHTML = '';
            document.getElementById('formatString').textContent = '';
            document.getElementById('outputPreview').textContent = 'Your preview will appear here.';
            
            // Update custom tab description and result title
            const customTabDescription = document.getElementById('customTabDescription');
            const formatResultTitle = document.getElementById('formatResultTitle');
            
            if (currentLanguage === 'php') {
                mainTitle.textContent = 'PHP Date Format Builder';
                customTabDescription.textContent = 'Select options from the dropdowns to build your PHP date format string.';
                formatResultTitle.textContent = 'Your PHP Date Format:';
                explanationTitle.textContent = 'How to use in PHP:';
                explanationText.textContent = 'Copy the format string above and use it in your PHP code like this:';
                codeExample.innerHTML = `
                    $formattedDate = date("<span id="phpExample"></span>", time());<br>
                    echo $formattedDate;
                `;
            } else if (currentLanguage === 'python') {
                mainTitle.textContent = 'Python Date Format Builder';
                customTabDescription.textContent = 'Select options from the dropdowns to build your Python strftime format string.';
                formatResultTitle.textContent = 'Your Python Date Format:';
                explanationTitle.textContent = 'How to use in Python:';
                explanationText.textContent = 'Copy the format string above and use it in your Python code like this:';
                codeExample.innerHTML = `
                    from datetime import datetime<br>
                    formatted_date = datetime.now().strftime("<span id="phpExample"></span>")<br>
                    print(formatted_date)
                `;
            } else if (currentLanguage === 'javascript') {
                mainTitle.textContent = 'JavaScript Date Format Builder';
                customTabDescription.textContent = 'Select options from the dropdowns to build your JavaScript date format string (compatible with moment.js/day.js).';
                formatResultTitle.textContent = 'Your JavaScript Date Format:';
                explanationTitle.textContent = 'How to use in JavaScript:';
                explanationText.textContent = 'Note: This shows a custom format string. For native JavaScript, use Intl.DateTimeFormat or a library like moment.js/day.js:';
                codeExample.innerHTML = `
                    // Custom format string: "<span id="phpExample"></span>"<br>
                    // Use with libraries like moment.js:<br>
                    const formattedDate = moment().format("<span id="phpExampleJS"></span>");<br>
                    console.log(formattedDate);
                `;
            }
            
            // Update the example with current format
            const currentFormat = document.getElementById('formatString').textContent;
            if (currentFormat && phpExample) {
                phpExample.textContent = currentFormat;
                const phpExampleJS = document.getElementById('phpExampleJS');
                if (phpExampleJS) {
                    phpExampleJS.textContent = currentFormat;
                }
            }
            
            // Refresh country formats display to show the new language
            initCountryFormats();
        }
        
        // Tab switching
        function switchTab(tabId) {
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            tabContents.forEach(content => content.classList.remove('active'));
            
            document.getElementById(tabId).classList.add('active');
            
            if (tabId === 'custom-tab-btn') {
                document.getElementById('custom-tab').classList.add('active');
            } else if (tabId === 'countries-tab-btn') {
                document.getElementById('countries-tab').classList.add('active');
            }
        }
        
        // Clear button functionality
        document.getElementById('clearBtn').addEventListener('click', function() {
            if (formatParts.length === 0) return;
            
            this.style.display = 'none';
            document.getElementById('confirmClear').style.display = 'block';
        });
        
        document.getElementById('confirmClearBtn').addEventListener('click', function() {
            formatParts = [];
            document.getElementById('dayFormat').selectedIndex = 0;
            document.getElementById('monthFormat').selectedIndex = 0;
            document.getElementById('yearFormat').selectedIndex = 0;
            document.getElementById('timeFormat').selectedIndex = 0;
            
            document.getElementById('formatString').textContent = '';
            document.getElementById('phpExample').textContent = '';
            document.getElementById('outputPreview').textContent = 'Your preview will appear here.';
            
            renderFormatItems();
            
            document.getElementById('clearBtn').style.display = 'block';
            document.getElementById('confirmClear').style.display = 'none';
        });
        
        document.getElementById('cancelClearBtn').addEventListener('click', function() {
            document.getElementById('clearBtn').style.display = 'block';
            document.getElementById('confirmClear').style.display = 'none';
        });
        
        // Setup tab click listeners
        document.getElementById('custom-tab-btn').addEventListener('click', function() {
            switchTab('custom-tab-btn');
        });
        
        document.getElementById('countries-tab-btn').addEventListener('click', function() {
            switchTab('countries-tab-btn');
            // Focus the search box for better UX
            setTimeout(() => {
                document.getElementById('countrySearch').focus();
            }, 100);
        });
        
        // Initialize enhanced functionality
        window.addEventListener('load', function() {
            // Add copy functionality
            addCopyToClipboard();
            
            // Add keyboard shortcuts
            addKeyboardShortcuts();
        });
        
        // Add copy to clipboard functionality
        function addCopyToClipboard() {
            const resultDiv = document.querySelector('.result');
            if (resultDiv) {
                // Create copy button
                const copyBtn = document.createElement('button');
                copyBtn.textContent = '📋 Copy Format';
                copyBtn.className = 'btn-primary';
                copyBtn.style.marginTop = '10px';
                copyBtn.onclick = function() {
                    const formatString = document.getElementById('formatString');
                    if (formatString) {
                        copyToClipboard(formatString.textContent);
                    }
                };
                
                resultDiv.appendChild(copyBtn);
            }
        }
        
        // Copy text to clipboard
        function copyToClipboard(text) {
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text).then(() => {
                    showNotification('Format copied to clipboard!', 'success');
                }).catch(() => {
                    fallbackCopyToClipboard(text);
                });
            } else {
                fallbackCopyToClipboard(text);
            }
        }
        
        // Fallback copy method for older browsers
        function fallbackCopyToClipboard(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showNotification('Format copied to clipboard!', 'success');
            } catch (err) {
                showNotification('Failed to copy format', 'error');
            }
            
            document.body.removeChild(textArea);
        }
        
        // Show notification
        function showNotification(message, type = 'info') {
            // Remove existing notifications
            const existingNotifications = document.querySelectorAll('.notification');
            existingNotifications.forEach(notification => notification.remove());
            
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 12px 20px;
                border-radius: 6px;
                color: white;
                font-weight: bold;
                z-index: 1000;
                animation: slideIn 0.3s ease-out;
                max-width: 300px;
            `;
            
            // Set background color based on type
            switch(type) {
                case 'success':
                    notification.style.backgroundColor = '#28a745';
                    break;
                case 'error':
                    notification.style.backgroundColor = '#dc3545';
                    break;
                case 'warning':
                    notification.style.backgroundColor = '#ffc107';
                    notification.style.color = '#212529';
                    break;
                default:
                    notification.style.backgroundColor = '#17a2b8';
            }
            
            document.body.appendChild(notification);
            
            // Auto-remove after 3 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 3000);
        }
        
        // Add keyboard shortcuts
        function addKeyboardShortcuts() {
            document.addEventListener('keydown', function(e) {
                // Ctrl/Cmd + K to focus search
                if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                    e.preventDefault();
                    const searchBox = document.getElementById('countrySearch');
                    if (searchBox) {
                        searchBox.focus();
                    }
                }
                
                // Ctrl/Cmd + L to switch language
                if ((e.ctrlKey || e.metaKey) && e.key === 'l') {
                    e.preventDefault();
                    const languageSelect = document.getElementById('languageSelect');
                    if (languageSelect) {
                        languageSelect.focus();
                    }
                }
                
                // Escape to clear format
                if (e.key === 'Escape') {
                    if (formatParts.length > 0) {
                        document.getElementById('clearBtn').click();
                    }
                }
            });
        }
        
        // Initialize
        window.onload = function() {
            switchTab('custom-tab-btn');
            updateDropdowns(); // Initialize dropdowns for default language
            initCountryFormats(); // Initialize country formats
        };
    </script>
</body>
</html>